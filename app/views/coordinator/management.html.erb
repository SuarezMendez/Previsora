<div class="m-30-60">
  <h4 class="justify">
    Bienvenido apreciado(a) <%= @user.name.titleize %>.
    <br><br>
    Aquí podrá administrar los usuarios de la Base de datos única.
  </h4>
  <br>
  <table class="table table-hover table-responsive">
    <thead>
      <tr>
        <th scope="col"><%= sort_link @search, :name, "Nombre", {}, :class => 'link' %></th>
        <th scope="col"><%= sort_link @search, :role, "Rol", {}, :class => 'link' %></th>
        <th scope="col"></th>
        <th scope="col"></th>
      </tr>
    </thead>
    <tbody>
      <% if @users == [] %>
      <% else %>
        <% @users.each do |u| %>
          <tr>
            <td><%= u.name %></td>
            <td><%= u.get_role_name %></td>
            <td><%= link_to "Editar", coordinator_edit_path(u) %></td>
            <td><%= button_to "delete", {:controller => :coordinator, :action => 'destroy', :id => u.id }, :method => :delete %></td>
          </tr>
        <% end %>
      <% end %>
      <tr>
        <td>Eve</td>
        <td>Jackson</td>
        <td>94</td>
      </tr>
      <tr>
        <td>John</td>
        <td>Doe</td>
        <td>80</td>
      </tr>
    </tbody>
  </table>
</div>

<div class="container-fluid p-15">
  <%= search_form_for @search, url: coordinator_management_url, class:"" do |f| %>
    <div class="row flexBox">
      <div class="col-sm-2">
      </div>
      <div class="col-sm-4">
        <%= f.text_field :name_cont, placeholder: "NOMBRE", class:"form-control m-5 mb-5" %>
      </div>
      <div class="col-sm-4">
        <div class="styled-select m-5">
          <%= f.select :role_eq, options_for_select([["ROL", nil], ["ABOGADO INTERNO", 1], ["COORDINADOR", 2], ["ADMINISTRADOR", 3]]), {}, {} %>
        </div>
      </div>
      <div class="col-sm-1 center">
        <button type="submit" class="btn btn-default">
          <span class="glyphicon glyphicon-search"></span>
        </button>
      </div>
      <div class="col-sm-1 center">
        <%= link_to new_user_registration_path, class:"link" do %>
            <span class="glyphicon glyphicon-plus btn btn-default"></span>
        <% end %>
      </div>
      <div class="col-sm-2">
      </div>
    </div>
  <% end %>
</div>

<hr style="margin: 0">

<div class="container-fluid p-30">
  <table id="search" class="table table-responsive-sm table-hover">
    <thead>
      <tr>
        <th class="center"><%= sort_link @search, :name, "Nombre", {}, :class => 'link' %></th>
        <th class="center"><%= sort_link @search, :role, "Rol", {}, :class => 'link' %></th>
        <th class="center">Editar</th>
        <th class="center">Borrar</th>
      </tr>
    </thead>

    <tbody>
      <% if @users == [] %>
      <% else %>
        <% @users.each do |u| %>
          <tr>
            <td class="center"><%= u.name %></td>
            <td class="center"><%= u.get_role_name %></td>
            <td class="center"><%= link_to "Editar", coordinator_edit_path(u) %></td>
            <td class="center"><%= button_to "delete", {:controller => :coordinator, :action => 'destroy', :id => u.id }, :method => :delete %></td>
          </tr>
        <% end %>
      <% end %>
    </tbody>
  </table>
  <hr>
  <div class="container-fluid mb-30 center">
    <%= will_paginate @users, renderer: BootstrapPagination::Rails, class: "pagination-lg", :previous_label => t("Anterior"), :next_label => t("Siguiente")%>
  </div>
</div>
<div>
  <h4><%= @users.length + @page %> / <%= @search.result.length %></h4>
</div>
