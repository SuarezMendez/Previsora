<% if flash[:error] == nil  %>
  <%= flash[:error] %>
<% end %>

<%= form_with(model: type_process, local: true) do |form| %>
  <% if type_process.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(type_process.errors.count, "error") %> prohibited this type_process from being saved:</h2>

      <ul>
        <% type_process.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="p-30">
    <div class="row">
      <div class="col-sm-offset-2 col-sm-7 ">

        <%= form.hidden_field :p_type, :value => 2 %>
        <%= form.hidden_field :user_id, :value => current_user.id %>
        <hr>
        <%= form.label "Clase de proceso" %>
        <%= form.collection_select(:process_class_id, ProcessClass.judicial, :id, :name, {:prompt => 'SELECCIONE'}, {class:"form-control", id: "processClass", required: true}) %>

        <%= form.label "Subclase de proceso" %>
        <%= form.collection_select(:subprocess_class_id, SubprocessClass.admin, :id , :name, {:prompt => 'SELECCIONE'}, {class:"form-control", id:"subprocessAdmin", required: true}) %>
        <%= form.collection_select(:subprocess_class_id, SubprocessClass.penal, :id , :name, {:prompt => 'SELECCIONE'}, {class:"form-control", id:"subprocessPenal", required: true}) %>

        <hr>
        <%= form.label "Tiene número de radicado correspondencia?" %>
        <select id="radicate" class="form-control">
          <option value="No">NO</option>
          <option value="Si">SI</option>
        </select>

        <%= form.label "Número de radicado correspondencia" %>
        <%= form.text_field :correspondency_radicate, placeholder: "INGRESE EL NUMERO", id:"correspondency_radicate", class:"form-control" %>

        <%= form.label "Número de identificación del caso (Bizagi, Acces y PA)" %>
        <%= form.text_field :case_id_bap, value: "PENDIENTE", class:"form-control" %>

        <%= form.label "Número de identificación del caso SISE" %>
        <%= form.text_field :case_id_sise, value: "PENDIENTE", class:"form-control" %>
        <hr>
        <%= form.label "Fecha de creación" %>
        <%= form.date_field :creation_date, :readonly => "readonly", class:"form-control" %>

        <%= form.label "Tipo de vinculación" %>
        <%= form.collection_select(:link_type_id, LinkType.judicial, :id, :name, {:prompt => 'SELECCIONE'}, {class:"form-control"}) %>

        <%= form.label "Departamento" %>
        <%= form.collection_select(:departament_id, Departament.all, :id, :name, {:prompt => 'SELECCIONE'}, {class:"form-control"}) %>

        <%= form.label "Ciudad donde cursa el caso" %>
        <%= form.collection_select(:city_case_id, CityCase.all, :id, :name, {:prompt => 'SELECCIONE'}, {class:"form-control"}) %>

        <%= form.label "Fuente de litigio" %>
        <%= form.collection_select(:litigation_source_id, LitigationSource.all, :id, :name, {:prompt => 'SELECCIONE'}, {id:"litigationSource", class:"form-control"}) %>

        <%= form.label "Tipo de reaseguro" %>
        <%= form.collection_select(:reinsurance_type_id, ReinsuranceType.all, :id, :name, {:prompt => 'SELECCIONE'}, {class:"form-control", id: "reinsurance_type"}) %>

        <%= form.label "Valor reaseguro" %>
        <%= form.number_field :reinsurance_value_cents, id:"reinsurance_value", class:"form-control" %>

        <%= form.label "Reaseguro reportado" %><br>
        <%= form.select :reinsurance_report, options_for_select([["NO", false], ["SI", true]]), {}, {class:"form-control"} %>

        <%= form.label "Tipo de coaseguro" %>
        <%= form.collection_select(:coensurance_type_id, CoensuranceType.all, :id, :name, {:prompt => 'SELECCIONE'}, {class:"form-control", id: "coensurance_type"}) %>

        <%= form.label "Valor coaseguro" %>
        <%= form.number_field :coensurance_value_cents, id:"coensurance_value", class:"form-control", readOnly:'readOnly'%>

        <%= form.label "Póliza" %>
        <%= form.number_field :policy_cents, id:"policyCents", class:"form-control", readOnly:'readOnly' %>

        <%= form.label "Amparo" %>
        <%= form.collection_select(:protection_id, Protection.all, :id, :name, {:prompt => 'SELECCIONE'}, {class:"form-control", id:"protection", :disabled=>"true"}) %>

        <%= form.label "Número (siniestro)" %>
        <%= form.number_field :number, id:"number", value: 0, class:"form-control" %>

        <%= form.label "Ejercicio" %>
        <%= form.number_field :exercise, id:"exercise", value: 0, class:"form-control" %>

        <%= form.label "Sucursal de la póliza" %>
        <%= form.collection_select(:branch_policy_id, BranchPolicy.all, :num, :large_name, {}, {class:"form-control", :id => "branch_policy" }) %>

        <%= form.label "Ramo comercial" %>
        <%= form.collection_select(:branch_commercial_id, BranchCommercial.all, :num, :large_name, {}, {class:"form-control", :id => "branch_commercial" }) %>

        <%= form.label "Número del siniestro (completo)" %>
        <%= form.text_field :sinister, id:"sinister", :readOnly=>"readOnly", class:"form-control" %>

        <%= form.label "Tiene más pólizas?" %>
        <select id="more_policies" class="form-control">
          <option value="No">NO</option>
          <option value="Si">SI</option>
        </select>

        <%= form.label "Número de pólizas" %>
        <%= form.text_area :policies, value: "PENDIENTE", id:"policies", class:"form-control" %>

        <%= form.label "Número de siniestros" %>
        <%= form.text_area :sinisters, value: "PENDIENTE", id:"sinisters", class:"form-control" %>
        <hr>
        <%= form.label "Tipo moneda" %>
        <%= form.collection_select(:money_type_id, MoneyType.all, :id, :name, {}, {class:"form-control", id:"moneyType"}) %>

        <%= form.label "Valor del dólar" %>
        <%= form.number_field :dolar_value_cents, class:"form-control", id:"dolarValueCents" %>

        <%= form.label "Valor reserva" %>
        <%= form.number_field :reserve_cents, value: 0, class:"form-control" %>

        <%= form.label "Valor provisión de indemnización" %>
        <%= form.number_field :provision_cents, value: 0, class:"form-control" %>

        <%= form.label "Valor reserva honorarios" %>
        <%= form.number_field :reserved_fees_cents, value: 0, class:"form-control" %>

        <%= form.label "Valor pretensión / detrimento / estimación" %>
        <%= form.number_field :detritment_cents, id:"detrimetValueCents", class:"form-control" %>

        <%= form.label "Valor asegurado" %>
        <%= form.number_field :ensurance_value_cents, id:"ensuranceValueCents", class:"form-control" %>

        <%= form.label "Valor contingencia" %>
        <%= form.number_field :contingency_value_cents, id:"contingencyValueCents", class:"form-control" %>

        <%= form.label "Fecha de notificación / vinculación" %>
        <%= form.date_field :notification_date, class:"form-control" %>

        <%= form.label "Número de radicación del proceso" %>
        <%= form.text_field :process_radicate, value: "PENDIENTE", class:"form-control" %>

        <%= form.label "Apoderado Previsora" %>
        <%= form.text_field :attorny, :placeholder => 'NOMBRE COMPLETO', required: true, class:"form-control" %>

        <%= form.label "Fecha de asignación apoderado Previsora" %>
        <%= form.date_field :attorny_date, class:"form-control" %>

        <%= form.label "Nombre despacho / tipo contraloría" %>
        <%= form.collection_select(:office_name_id, OfficeName.judicial, :id, :name, {:prompt => 'SELECCIONE'}, {class:"form-control"}) %>

        <%= form.label "Parte activa" %>
        <%= form.text_field :active_part, :placeholder => 'NOMBRE COMPLETO', required: true, class:"form-control" %>

        <%= form.label "Parte pasiva" %>
        <%= form.text_field :passive_part, :placeholder => 'NOMBRE COMPLETO', required: true, class:"form-control" %>

        <%= form.label "Calificación contingencia" %>
        <%= form.collection_select(:score_contingency_id, ScoreContingency.all, :id, :name, {}, {class:"form-control"}) %>

        <%= form.label "Razón contingencia" %>
        <%= form.text_area :contingency_reason, value: "PENDIENTE", class:"form-control" %>

        <%= form.label "Resumen de la contingencia" %>
        <%= form.text_area :contingency_resume, value: "PENDIENTE", class:"form-control" %>

        <%= form.label "Hechos" %>
        <%= form.text_area :facts, value: "PENDIENTE", class:"form-control" %>

        <%= form.label "Etapa actual", id:"currentStage" %>
        <%= form.collection_select(:current_stage_id, CurrentStage.judicial_admin, :id, :name, {}, {id:"currentStageAdmin", class:"form-control"}) %>
        <%= form.collection_select(:current_stage_id, CurrentStage.judicial_penal, :id, :name, {}, {id:"currentStagePenal", class:"form-control"}) %>

        <%= form.label "Instancias" %>
        <%= form.collection_select(:instance_id, Instance.all, :id, :name, {}, {class:"form-control"}) %>

        <%= form.label "Estado del caso" %>
        <%= form.collection_select(:case_state_id, CaseState.all, :id, :name, {}, {class:"form-control", id:"caseState"}) %>

        <%= form.label "Fecha de decisión" %>
        <%= form.date_field :desition_date, class:"form-control" %>

        <%= form.label "Terminación del caso" %>
        <%= form.collection_select(:case_termination_id, CaseTermination.all, :id, :name, {:prompt => 'SELECCIONE'}, {class:"form-control", id:"caseTermination"}) %>

        <%= form.label "Valor fallo decisión" %>
        <%= form.number_field :fail_value_cents, value: 0, class:"form-control", id: "fail_value" %>

        <%= form.label "Valor fallo a cargo de Previsora" %>
        <%= form.number_field :fail_previ_cents, value: 0, class:"form-control", id: "fail_previ" %>

        <%= form.label "Valor pagado Previsora" %>
        <%= form.number_field :payed_value_cents, value: 0, class:"form-control", id: "payed_value" %>

        <%= form.label "Fecha de consignación" %>
        <%= form.date_field :payment_date, class:"form-control", id: "payment_date" %>

        <%= form.label "Procede recobro" %><br>
        <%= form.select :recovery, options_for_select([["NO", false], ["SI", true]]), {}, {class:"form-control", id: "recovery"} %>

        <%= form.label "Tiene número de radicado de coactivo?" %>
        <select id="coactive" class="form-control">
          <option value="No">NO</option>
          <option value="Si">SI</option>
        </select>

        <%= form.label "Número de radicación de coactivo" %>
        <%= form.text_field :coactive_radicate, id:"coactive_radicate", class:"form-control" %>

        <%= form.label "Valor coactivo" %>
        <%= form.number_field :coactive_value_cents, id:"coactive_value_cents", class:"form-control" %>

        <%= form.label "Valor embargo" %>
        <%= form.number_field :garnish_value_cents, value: 0, class:"form-control" %>

        <%= form.label "Última actuación" %>
        <%= form.collection_select(:last_performance_id, LastPerformance.all, :id, :name, {}, {class:"form-control", id:"lastPerformance"}) %>

        <%= form.label "Fecha última actuación" %>
        <%= form.date_field :last_performance_date, class:"form-control",  id:"lastPerformanceDate", min:"1980-1-1", max:"2025-1-1" %>

        <%= form.label "Ingresa al comité?" %>
        <%= form.collection_select(:join_committee_id, JoinCommittee.all, :id, :name, {}, {class:"form-control", id:"join_committee"}) %>

        <%= form.label "Fecha ingreso al comité" %>
        <%= form.date_field :committee_date, class:"form-control",  id:"committee_date" %>

        <%= form.label "Desición del comité" %>
        <%= form.collection_select(:committee_id, Committee.all, :id, :name, {}, {class:"form-control", id:"committee"}) %>

        <%= form.label "Valor autorizado por el comité" %>
        <%= form.number_field :auth_value_cents, value: 0, id:"auth_value", class:"form-control" %>

        <%= form.label "Valor conciliado" %>
        <%= form.number_field :reconcilie_value_cents, value: 0, id:"reconcilie_value", class:"form-control" %>

        <%= form.label "Razón de no conciliar" %>
        <%= form.text_area :reason_conc, value: "PENDIENTE", id:"reason_conc", class:"form-control" %>

        <%= form.label "Razón de invialibilidad" %>
        <%= form.text_area :reason_inv, value: "PENDIENTE", id:"reason_inv", class:"form-control" %>

        <%= form.label "Reserva depurada" %>
        <%= form.collection_select(:reserved_released_id, ReservedReleased.all, :id, :name, {}, {class:"form-control", id:"reservedReleased"}) %>

      </div>
    </div>
  </div>
  <div class="">
    <%= link_to 'Volver', index_home_path, class:"btn btn-default" %>
    <%= form.submit "Guardar", class:"btn btn-default floatRight" %>
  </div>
<% end %>
